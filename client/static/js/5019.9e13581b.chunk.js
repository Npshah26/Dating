"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[5019],{24146:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(34535),n=s(96446),r=s(19252),o=s(70579);const i=(0,a.Ay)(n.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),l=e=>{let{children:t}=e;return(0,o.jsx)(i,{className:"MuiPageTitle-wrapper",children:(0,o.jsx)(r.A,{maxWidth:"lg",children:t})})}},65019:(e,t,s)=>{s.r(t),s.d(t,{default:()=>K});var a=s(29490),n=s(24146),r=s(26240),o=s(96446),i=s(68903),l=s(88911),c=s(22698),d=s(85865),m=s(11906),p=s(53193),h=s(67784),g=s(51787),x=s(19252),u=s(12110),A=s(39336),y=s(79650),j=s(71806),v=s(84882),S=s(28076),f=s(10039),b=s(73460),k=s(69392),P=s(4598),T=s(17392),C=s(92598),I=s(63336),R=s(83462),w=s(26600),O=s(35316),H=s(98533),N=s(29347),z=s(81673),E=s(33639),W=s(26688),B=s(39155),F=s(74802),M=s(73216),_=s(35475),L=s(94786),G=s(65043),q=s(11633),D=s(66360),U=s(47503),Z=(s(92342),s(8740),s(50072)),$=s(73232),J=s(70579);const Y={id:0,name:""};const K=function(){const[e,t]=(0,G.useState)(!1),[s,K]=(0,G.useState)(0),[Q,V]=(0,G.useState)(10),[X,ee]=(0,G.useState)(10),[te,se]=(0,G.useState)([]),[ae,ne]=(0,G.useState)(Y),[re,oe]=(0,G.useState)(!1),[ie,le]=(0,G.useState)(!1),[ce,de]=(0,G.useState)(!1),[me,pe]=(0,G.useState)("");let[he,ge]=(0,G.useState)(""),[xe,ue]=(0,G.useState)();const Ae=(0,M.Zp)(),[ye,je]=(0,G.useState)(!1),[ve,Se]=(0,G.useState)(""),[fe,be]=(0,G.useState)(!0),[ke,Pe]=(0,G.useState)(!0),[Te,Ce]=(0,G.useState)(!0),[Ie,Re]=(0,G.useState)(!0),{showSnackBar:we,SnackbarComponent:Oe}=(0,$.d)();(0,G.useEffect)((()=>{let e=JSON.parse(localStorage.getItem("Credentials"));if(ue(e),e)if(1!=e.roleId){let t=e.pagePermissions.findIndex((e=>"Block Users"===e.title));t>=0&&(be(e.pagePermissions[t].isReadPermission),Pe(e.pagePermissions[t].isAddPermission),Ce(e.pagePermissions[t].isEditPermission),Re(e.pagePermissions[t].isDeletePermission),e.pagePermissions[t].isReadPermission&&He())}else He()}),[]);const He=async()=>{ze(s,Q)},Ne=new RegExp(/^[a-zA-Z_ ]+$/),ze=async(e,s)=>{if(he){const t=localStorage.getItem("SessionToken"),a=localStorage.getItem("RefreshToken");let n={startIndex:e,fetchRecord:s,name:he||""};const r=await q.A.httpPost("/api/admin/employmentType/getEmploymentType",n,t,a);se(r.recordList),ee(r.totalRecords)}else{t(!0);try{const t=localStorage.getItem("SessionToken"),a=localStorage.getItem("RefreshToken");let n={startIndex:e,fetchRecord:s};const r=await q.A.httpPost("/api/admin/employmentType/getEmploymentType",n,t,a);se(r.recordList),ee(r.totalRecords),r&&200===r.status||(r&&401===r.status?(localStorage.clear(),Ae("/admin")):(500==r.status||400==r.status||404==r.status||300==r.status)&&(le(!1),U.oR.error(r.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:U.oR.POSITION.TOP_RIGHT})))}catch(a){le(!1),U.oR.error(a,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:U.oR.POSITION.TOP_RIGHT}),t(!1)}t(!1)}},Ee=()=>{oe(!1),le(!1)},We=async()=>{const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken");let a={id:ae.id};await q.A.httpPost("/api/admin/employmentType/activeInactiveEmploymentType",a,e,t);oe(!1),ze(s*Q,Q)},Be=async()=>{ne(Y),le(!0),je(!1),Se(""),de(!1),pe("")},Fe=async e=>{let t=(e=>{null===e||void 0===e||e.preventDefault();var t=!0;return ae.name?Ne.test(ae.name)?(je(!1),Se(""),t=!0):(je(!0),Se("Alphabet and space allowed"),t=!1):(je(!0),Se("Employment is required"),t=!1),t})(e);try{if(t)if(ae.id){const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken");let a={id:ae.id,name:ae.name};const n=await q.A.httpPost("/api/admin/employmentType/insertUpdateEmploymentType",a,e,t);n&&200===n.status?(le(!1),ze(s*Q,Q)):n&&401===n.status?(Ae("/admin"),localStorage.clear()):500==n.status||300==n.status||404==n.status||400==n.status?(le(!1),U.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:U.oR.POSITION.TOP_RIGHT})):n&&203===n.status&&(de(!0),pe("Employment already exists!"))}else{const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken"),s=await q.A.httpPost("/api/admin/employmentType/insertUpdateEmploymentType",ae,e,t);s&&200==s.status?(ze(0,Q),K(0),le(!1)):401==s.status?(Ae("/admin"),localStorage.clear()):500==s.status||300==s.status||404==s.status||400==s.status?(le(!1),U.oR.error(s.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:U.oR.POSITION.TOP_RIGHT})):203==s.status&&(de(!0),pe("Employment already exists!"))}}catch(a){le(!1),U.oR.error(a,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:U.oR.POSITION.TOP_RIGHT})}},Me=(0,r.A)();return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(Oe,{}),(0,J.jsx)(U.N9,{style:{top:"10%",left:"80%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,J.jsx)(a.mg,{children:(0,J.jsx)("title",{children:"Employment"})}),(0,J.jsx)(n.A,{children:(0,J.jsx)(o.A,{p:1,children:(0,J.jsxs)(i.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,J.jsx)(i.Ay,{item:!0,children:(0,J.jsx)(l.A,{alignItems:"left",justifyContent:"space-between",children:(0,J.jsxs)(c.A,{"aria-label":"breadcrumb",children:[(0,J.jsx)(_.N_,{to:"/admin/dashboard",style:{display:"flex",color:"black"},children:(0,J.jsx)(E.A,{})}),(0,J.jsx)(d.A,{variant:"subtitle2",color:"inherit",fontWeight:"bold",children:"Employment"})]})})}),(0,J.jsx)(i.Ay,{item:!0,children:(0,J.jsxs)(i.Ay,{container:!0,spacing:1.5,children:[(0,J.jsx)(i.Ay,{item:!0,children:ke?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(m.A,{className:"buttonLarge",sx:{mt:{xs:0,md:0,display:"flex",alignItems:"center",padding:"8.3px",top:"3px"}},variant:"contained",onClick:Be,size:"small",children:[(0,J.jsx)(B.A,{fontSize:"small"})," Create Employment"]}),(0,J.jsx)(m.A,{className:"button",sx:{mt:{xs:0,md:0,display:"flex",alignItems:"center",padding:"8.3px",top:"3px"}},variant:"contained",onClick:Be,size:"small",children:(0,J.jsx)(B.A,{fontSize:"small"})})]}):(0,J.jsx)(J.Fragment,{})}),(0,J.jsx)(i.Ay,{item:!0,children:(0,J.jsx)(p.A,{sx:{mt:{xs:.3,md:.3,lg:.3,sm:.3}},children:(0,J.jsx)(h.A,{id:"outlined-basic",label:"Search",name:"searchString",value:he,onChange:e=>(e=>{ge(e.target.value),he=e.target.value,ze(s,Q)})(e),variant:"outlined",size:"small",InputProps:{startAdornment:(0,J.jsx)(g.A,{position:"start",children:(0,J.jsx)(D.A,{})})}})})})]})})]})})}),(0,J.jsx)(x.A,{maxWidth:"lg",children:(0,J.jsx)(i.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,J.jsx)(i.Ay,{item:!0,xs:12,children:(0,J.jsx)(J.Fragment,{children:(0,J.jsx)(u.A,{className:"communitycard",children:(0,J.jsx)("div",{children:e?(0,J.jsx)(L.A,{title:"Loading..."}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(A.A,{}),te&&te.length>0?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(y.A,{className:"communitytableContainer",children:(0,J.jsxs)(j.A,{stickyHeader:!0,children:[(0,J.jsx)(v.A,{children:(0,J.jsxs)(S.A,{children:[(0,J.jsx)(f.A,{children:(0,J.jsx)(d.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Sr. NO"})}),(0,J.jsx)(f.A,{children:(0,J.jsx)(d.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Employment"})}),(0,J.jsx)(f.A,{align:"right",children:(0,J.jsx)(d.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Actions"})})]})}),(0,J.jsx)(b.A,{children:te.map(((e,t)=>(0,J.jsxs)(S.A,{hover:!0,children:[(0,J.jsx)(f.A,{children:(0,J.jsx)(d.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:s*Q+t+1})}),(0,J.jsx)(f.A,{children:(0,J.jsx)(d.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,sx:{textTransform:"capitalize"},children:e.name})}),(0,J.jsx)(f.A,{align:"right",children:Te?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(k.A,{title:0===e.isActive?"Inactive":"Active",arrow:!0,children:(0,J.jsx)(P.A,{checked:0!==e.isActive,onClick:t=>(0,Z.A)((()=>{return t=e.id,s=e.isActive,ne({id:t,status:s}),void oe(!0);var t,s}),we)(),inputProps:{"aria-label":"controlled"}})}),(0,J.jsx)(k.A,{title:"Edit",arrow:!0,children:(0,J.jsx)(T.A,{sx:{"&:hover":{background:Me.colors.error.lighter},color:Me.palette.primary.main},color:"inherit",size:"small",onClick:t=>{return s=e.id,a=e.name,ne({id:s,name:a}),le(!0),je(!1),Se(""),de(!1),void pe("");var s,a},children:(0,J.jsx)(W.A,{fontSize:"small"})})})]}):(0,J.jsx)(J.Fragment,{})})]},e.id)))})]})}),(0,J.jsx)(o.A,{p:2,children:(0,J.jsx)(C.A,{component:"div",count:X,onPageChange:(e,t)=>{K(t),ze(t*Q,Q)},onRowsPerPageChange:e=>{V(parseInt(e.target.value)),K(0),ze(0,parseInt(e.target.value))},page:s,rowsPerPage:Q,rowsPerPageOptions:[10,20,30,40]})})]}):(0,J.jsx)(I.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none"},className:"communitycard",children:(0,J.jsx)(d.A,{variant:"h5",paragraph:!0,children:"Data not Found"})}),(0,J.jsx)("div",{children:(0,J.jsxs)(R.A,{open:re,onClose:Ee,fullWidth:!0,maxWidth:"xs",children:[(0,J.jsx)(Oe,{}),(0,J.jsx)(w.A,{sx:{m:0,p:2,fontSize:"20px",fontWeight:"bolder"},children:0===ae.status?"Inactive":"Active"}),(0,J.jsx)(O.A,{children:(0,J.jsx)(H.A,{style:{fontSize:"1rem",letterSpacing:"0.00938em"},children:0===ae.status?"Are you sure you want to Active?":"Are you sure you want to Inactive?"})}),(0,J.jsxs)(N.A,{children:[(0,J.jsx)(m.A,{onClick:Ee,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,J.jsx)(m.A,{onClick:()=>(0,Z.A)(We,we)(),variant:"outlined",style:{marginRight:"10px"},children:"Yes"})]})]})}),(0,J.jsx)("div",{children:(0,J.jsxs)(R.A,{open:ie,onClose:Ee,PaperProps:{sx:{height:"40%"}},fullWidth:!0,maxWidth:"xs",children:[(0,J.jsx)(Oe,{}),(0,J.jsxs)(w.A,{sx:{m:0,p:2,fontSize:"18px",fontWeight:"bold"},children:[ae.id?"Edit Employment ":"Add Employment",(0,J.jsx)(T.A,{"aria-label":"close",onClick:Ee,sx:{position:"absolute",right:13,top:13,color:e=>e.palette.grey[500]},children:(0,J.jsx)(F.A,{})})]}),(0,J.jsxs)(O.A,{dividers:!0,children:[(0,J.jsx)(h.A,{autoFocus:!0,margin:"dense",id:"name",label:"Employment",type:"text",fullWidth:!0,variant:"outlined",name:"name",value:ae.name,onChange:e=>{(e=>{const{name:t,value:s}=e.target;ne({...ae,[t]:s}),le(!0),de(!1),pe("")})(e),(e=>{const{name:t,value:s}=e.target;s?Ne.test(e.target.value)?(je(!1),Se("")):(je(!0),Se("Alphabet and space allowed")):(je(!0),Se("Employment is required"))})(e)},required:!0}),(0,J.jsx)(z.A,{style:{color:"red",height:"22px"},children:ye&&ve})]}),(0,J.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",padding:"8px"},children:[(0,J.jsx)(z.A,{style:{color:"red",height:"22px",margin:"none",padding:"8px 0px"},children:ce&&me}),(0,J.jsxs)(d.A,{children:[(0,J.jsx)(m.A,{onClick:Ee,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,J.jsx)(m.A,{onClick:()=>(0,Z.A)(Fe,we)(),variant:"outlined",style:{marginRight:"10px"},children:"Save"})]})]})]})})]})})})})})})})]})}},94786:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var a=s(70579);const n=e=>{const{title:t}=e;return(0,a.jsx)("div",{className:"spinner-container",children:(0,a.jsx)("div",{className:"loading-spinner"})})}},66360:(e,t,s)=>{var a=s(24994);t.A=void 0;var n=a(s(40039)),r=s(70579),o=(0,n.default)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.A=o},84882:(e,t,s)=>{s.d(t,{A:()=>j});var a=s(58168),n=s(98587),r=s(65043),o=s(69292),i=s(98610),l=s(21573),c=s(98206),d=s(34535),m=s(92532),p=s(72372);function h(e){return(0,p.Ay)("MuiTableHead",e)}(0,m.A)("MuiTableHead",["root"]);var g=s(70579);const x=["className","component"],u=(0,d.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),A={variant:"head"},y="thead",j=r.forwardRef((function(e,t){const s=(0,c.b)({props:e,name:"MuiTableHead"}),{className:r,component:d=y}=s,m=(0,n.A)(s,x),p=(0,a.A)({},s,{component:d}),j=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},h,t)})(p);return(0,g.jsx)(l.A.Provider,{value:A,children:(0,g.jsx)(u,(0,a.A)({as:d,className:(0,o.A)(j.root,r),ref:t,role:d===y?null:"rowgroup",ownerState:p},m))})}))},71806:(e,t,s)=>{s.d(t,{A:()=>y});var a=s(98587),n=s(58168),r=s(65043),o=s(69292),i=s(98610),l=s(41009),c=s(98206),d=s(34535),m=s(92532),p=s(72372);function h(e){return(0,p.Ay)("MuiTable",e)}(0,m.A)("MuiTable",["root","stickyHeader"]);var g=s(70579);const x=["className","component","padding","size","stickyHeader"],u=(0,d.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:s}=e;return(0,n.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,n.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},s.stickyHeader&&{borderCollapse:"separate"})})),A="table",y=r.forwardRef((function(e,t){const s=(0,c.b)({props:e,name:"MuiTable"}),{className:d,component:m=A,padding:p="normal",size:y="medium",stickyHeader:j=!1}=s,v=(0,a.A)(s,x),S=(0,n.A)({},s,{component:m,padding:p,size:y,stickyHeader:j}),f=(e=>{const{classes:t,stickyHeader:s}=e,a={root:["root",s&&"stickyHeader"]};return(0,i.A)(a,h,t)})(S),b=r.useMemo((()=>({padding:p,size:y,stickyHeader:j})),[p,y,j]);return(0,g.jsx)(l.A.Provider,{value:b,children:(0,g.jsx)(u,(0,n.A)({as:m,role:m===A?null:"table",ref:t,className:(0,o.A)(f.root,d),ownerState:S},v))})}))},8740:()=>{}}]);
//# sourceMappingURL=5019.9e13581b.chunk.js.map