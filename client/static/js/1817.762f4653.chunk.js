"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[1817],{21566:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(34535),o=s(70579);const n=(0,r.Ay)("span")((e=>{let{theme:t}=e;return`\n      background-color: ${t.colors.alpha.black[5]};\n      padding: ${t.spacing(.5,1)};\n      font-size: ${t.typography.pxToRem(13)};\n      border-radius: ${t.general.borderRadius};\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ${t.spacing(3)};\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ${t.colors.primary.lighter};\n          color: ${t.palette.primary.main}\n        }\n\n        &-black {\n          background-color: ${t.colors.alpha.black[100]};\n          color: ${t.colors.alpha.white[100]};\n        }\n        \n        &-secondary {\n          background-color: ${t.colors.secondary.lighter};\n          color: ${t.palette.secondary.main}\n        }\n        \n        &-success {\n          background-color: ${t.colors.success.lighter};\n          color: ${t.palette.success.main}\n        }\n        \n        &-warning {\n          background-color: ${t.colors.warning.lighter};\n          color: ${t.palette.warning.main}\n        }\n              \n        &-error {\n          background-color: ${t.colors.error.lighter};\n          color: ${t.palette.error.main}\n        }\n        \n        &-info {\n          background-color: ${t.colors.info.lighter};\n          color: ${t.palette.info.main}\n        }\n      }\n`})),a=e=>{let{className:t,color:s="secondary",children:r,...a}=e;return(0,o.jsx)(n,{className:"MuiLabel-"+s,...a,children:r})}},24146:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(34535),o=s(96446),n=s(19252),a=s(70579);const l=(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),i=e=>{let{children:t}=e;return(0,a.jsx)(l,{className:"MuiPageTitle-wrapper",children:(0,a.jsx)(n.A,{maxWidth:"lg",children:t})})}},94786:(e,t,s)=>{s.d(t,{A:()=>o});s(65043);var r=s(70579);const o=e=>{const{title:t}=e;return(0,r.jsx)("div",{className:"spinner-container",children:(0,r.jsx)("div",{className:"loading-spinner"})})}},1817:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var r=s(29490),o=s(24146),n=s(96446),a=s(68903),l=s(88911),i=s(22698),c=s(85865),d=s(53193),u=s(18356),g=s(93088),h=s(91449),p=s(67784),m=s(51787),x=s(19252),A=s(12110),j=s(39336),b=s(79650),y=s(71806),v=s(84882),k=s(28076),f=s(10039),R=s(73460),S=s(11906),P=s(92598),I=s(63336),T=s(66360),O=s(33639),C=s(73216),w=s(35475),H=s(65043),N=s(21566),B=s(11633),W=s(94786),$=s(47503),z=(s(92342),s(8740),s(50072)),U=s(70579);const M=function(){const[e,t]=(0,H.useState)(0),[s,M]=(0,H.useState)(10),[q,F]=(0,H.useState)(!1),[L,_]=(0,H.useState)(10);let[G,D]=(0,H.useState)();const[E,J]=H.useState([]);let[V,Z]=H.useState("");const K=(0,C.Zp)();let[Q,X]=(0,H.useState)();const[Y,ee]=(0,H.useState)(!0),[te,se]=(0,H.useState)(!0),[re,oe]=(0,H.useState)(!0),[ne,ae]=(0,H.useState)(!0);H.useEffect((()=>{let t=JSON.parse(localStorage.getItem("Credentials"));if(X(t),t)if(1!=t.roleId){let r=t.pagePermissions.findIndex((e=>"Block Users"===e.title));r>=0&&(ee(t.pagePermissions[r].isReadPermission),se(t.pagePermissions[r].isAddPermission),oe(t.pagePermissions[r].isEditPermission),ae(t.pagePermissions[r].isDeletePermission),t.pagePermissions[r].isReadPermission&&le(e,s))}else le(e,s)}),[]);const le=async(e,t)=>{try{if(V){const s=localStorage.getItem("SessionToken"),r=localStorage.getItem("RefreshToken");let o={startIndex:e,fetchRecord:t,status:G||"all",userName:V||"",blockReqUserName:V||""};const n=await B.A.httpPost("/api/admin/userBlockRequest/getUserBlockRequest",o,s,r);J(n.recordList),_(n.totalRecords)}else{F(!0);const s=localStorage.getItem("SessionToken"),r=localStorage.getItem("RefreshToken");let o={startIndex:e,fetchRecord:t,status:G||"all"};const n=await B.A.httpPost("/api/admin/userBlockRequest/getUserBlockRequest",o,s,r);J(n.recordList),_(n.totalRecords),n&&200==n.status||(401==n.status?(localStorage.clear(),K("/admin")):(500==n.status||400==n.status||300==n.status||404==n.status)&&$.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:$.oR.POSITION.TOP_RIGHT})),F(!1)}}catch(s){$.oR.error(s,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:$.oR.POSITION.TOP_RIGHT}),F(!1)}};return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)($.N9,{style:{top:"10%",left:"80%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,U.jsx)(r.mg,{children:(0,U.jsx)("title",{children:"Block Users"})}),(0,U.jsx)(o.A,{children:(0,U.jsx)("div",{children:(0,U.jsx)(n.A,{pt:1.2,pb:1.1,pl:1,children:(0,U.jsxs)(a.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:1.5,children:[(0,U.jsx)(a.Ay,{item:!0,children:(0,U.jsx)(l.A,{alignItems:"left",justifyContent:"space-between",children:(0,U.jsxs)(i.A,{"aria-label":"breadcrumb",children:[(0,U.jsx)(w.N_,{to:"/admin/dashboard",style:{display:"flex",color:"black"},children:(0,U.jsx)(O.A,{})}),(0,U.jsx)(c.A,{variant:"subtitle2",color:"inherit",style:{fontWeight:"bold"},children:"Block Users"})]})})}),(0,U.jsx)(a.Ay,{item:!0,children:(0,U.jsxs)(a.Ay,{container:!0,spacing:1.5,children:[(0,U.jsx)(a.Ay,{item:!0,children:(0,U.jsxs)(d.A,{variant:"outlined",fullWidth:!0,sx:{mt:{xs:0,md:0},width:"none",minWidth:"150px"},children:[(0,U.jsx)(u.A,{children:"Status"}),(0,U.jsxs)(g.A,{name:"status",value:G||"All",defaultValue:!0,onChange:async t=>{G=t.target.value,D(t.target.value),await le(e,s)},label:"Status",autoWidth:!0,size:"small",children:[(0,U.jsx)(h.A,{value:"Approved",children:"Approved"},"Approved"),(0,U.jsx)(h.A,{value:"Rejected",children:"Rejected"},"Rejected"),(0,U.jsx)(h.A,{value:"Pending",children:"Pending"},"Pending"),(0,U.jsx)(h.A,{value:"All",children:"All"},"All")]})]})}),(0,U.jsx)(a.Ay,{item:!0,children:(0,U.jsx)(d.A,{sx:{mt:{xs:0,md:0}},children:(0,U.jsx)(p.A,{id:"outlined-basic",label:"Search",variant:"outlined",name:"searchInput",value:V,size:"small",onChange:t=>(t=>{Z(t.target.value),V=t.target.value,le(e,s)})(t),InputProps:{startAdornment:(0,U.jsx)(m.A,{position:"start",children:(0,U.jsx)(T.A,{})})}})})})]})})]})})})}),(0,U.jsx)(x.A,{maxWidth:"lg",children:(0,U.jsx)(a.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,U.jsx)(a.Ay,{item:!0,xs:12,children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(A.A,{className:"blockUsercard",children:(0,U.jsx)("div",{children:q?(0,U.jsx)(W.A,{title:"Loading..."}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(j.A,{}),E&&E.length>0?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(b.A,{className:"blockUsertableContainer",children:(0,U.jsxs)(y.A,{stickyHeader:!0,children:[(0,U.jsx)(v.A,{children:(0,U.jsxs)(k.A,{children:[(0,U.jsx)(f.A,{children:(0,U.jsx)(c.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Sr. No"})}),(0,U.jsx)(f.A,{align:"center",children:(0,U.jsx)(c.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Request From User"})}),(0,U.jsx)(f.A,{align:"center",children:(0,U.jsx)(c.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Request For User"})}),(0,U.jsx)(f.A,{align:"center",children:(0,U.jsx)(c.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Reason"})}),(0,U.jsx)(f.A,{align:"right",children:(0,U.jsx)(c.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Status"})})]})}),(0,U.jsx)(R.A,{children:E.map(((t,r)=>(0,U.jsxs)(k.A,{hover:!0,children:[(0,U.jsx)(f.A,{children:(0,U.jsx)(c.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e*s+r+1})}),(0,U.jsx)(f.A,{align:"center",children:(0,U.jsx)(c.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.userName})}),(0,U.jsx)(f.A,{align:"center",children:(0,U.jsx)(c.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.blockReqUserName})}),(0,U.jsx)(f.A,{align:"center",children:(0,U.jsx)(c.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.reason})}),null===t.status?(0,U.jsx)(f.A,{align:"right",children:(0,U.jsx)(n.A,{children:re?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(S.A,{size:"small",variant:"outlined",onClick:e=>(0,z.A)((()=>(async e=>{try{const t=localStorage.getItem("SessionToken"),r=localStorage.getItem("RefreshToken");let o={id:e,status:1};const n=await B.A.httpPost("/api/admin/userBlockRequest/updateUserBlockRequest",o,t,r);le(0,s),n&&200==n.status||(401==n.status?(localStorage.clear(),K("/admin")):(500==n.status||400==n.status||404==n.status||300==n.status)&&$.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:$.oR.POSITION.TOP_RIGHT}))}catch(t){$.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:$.oR.POSITION.TOP_RIGHT})}})(t.id)))(e),sx:{mt:{xs:1,md:0},width:"93.38px"},children:"Approve"}),(0,U.jsx)(S.A,{size:"small",variant:"outlined",onClick:e=>(0,z.A)((()=>(async e=>{try{const t=localStorage.getItem("SessionToken"),r=localStorage.getItem("RefreshToken");let o={id:e,status:0};const n=await B.A.httpPost("/api/admin/userBlockRequest/updateUserBlockRequest",o,t,r);le(0,s),n&&200==n.status||(401==n.status?(localStorage.clear(),K("/admin")):(500==n.status||400==n.status||300==n.status||404==n.status)&&$.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:$.oR.POSITION.TOP_RIGHT}))}catch(t){$.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:$.oR.POSITION.TOP_RIGHT})}})(t.id)))(e),sx:{mt:{xs:1,md:0},width:"93.38px",ml:1},children:"Reject"})]}):(0,U.jsx)(U.Fragment,{})})}):(0,U.jsx)(f.A,{align:"right",children:0===t.status?(0,U.jsx)(N.A,{color:"error",children:"Rejected"}):(0,U.jsx)(N.A,{color:"success",children:"Approved"})})]},t.id)))})]})}),(0,U.jsx)(n.A,{p:2,children:(0,U.jsx)(P.A,{component:"div",count:L,onPageChange:(e,r)=>{t(r),le(r*s,s)},onRowsPerPageChange:e=>{M(parseInt(e.target.value)),t(0),le(0,parseInt(e.target.value))},page:e,rowsPerPage:s,rowsPerPageOptions:[10,20,30,40]})})]}):(0,U.jsx)(I.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none"},className:"blockUsercard",children:(0,U.jsx)(c.A,{variant:"h5",paragraph:!0,children:"Data not Found"})})]})})})})})})})]})}},66360:(e,t,s)=>{var r=s(24994);t.A=void 0;var o=r(s(40039)),n=s(70579),a=(0,o.default)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.A=a},84882:(e,t,s)=>{s.d(t,{A:()=>b});var r=s(58168),o=s(98587),n=s(65043),a=s(69292),l=s(98610),i=s(21573),c=s(98206),d=s(34535),u=s(92532),g=s(72372);function h(e){return(0,g.Ay)("MuiTableHead",e)}(0,u.A)("MuiTableHead",["root"]);var p=s(70579);const m=["className","component"],x=(0,d.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),A={variant:"head"},j="thead",b=n.forwardRef((function(e,t){const s=(0,c.b)({props:e,name:"MuiTableHead"}),{className:n,component:d=j}=s,u=(0,o.A)(s,m),g=(0,r.A)({},s,{component:d}),b=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},h,t)})(g);return(0,p.jsx)(i.A.Provider,{value:A,children:(0,p.jsx)(x,(0,r.A)({as:d,className:(0,a.A)(b.root,n),ref:t,role:d===j?null:"rowgroup",ownerState:g},u))})}))},71806:(e,t,s)=>{s.d(t,{A:()=>j});var r=s(98587),o=s(58168),n=s(65043),a=s(69292),l=s(98610),i=s(41009),c=s(98206),d=s(34535),u=s(92532),g=s(72372);function h(e){return(0,g.Ay)("MuiTable",e)}(0,u.A)("MuiTable",["root","stickyHeader"]);var p=s(70579);const m=["className","component","padding","size","stickyHeader"],x=(0,d.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:s}=e;return(0,o.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,o.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},s.stickyHeader&&{borderCollapse:"separate"})})),A="table",j=n.forwardRef((function(e,t){const s=(0,c.b)({props:e,name:"MuiTable"}),{className:d,component:u=A,padding:g="normal",size:j="medium",stickyHeader:b=!1}=s,y=(0,r.A)(s,m),v=(0,o.A)({},s,{component:u,padding:g,size:j,stickyHeader:b}),k=(e=>{const{classes:t,stickyHeader:s}=e,r={root:["root",s&&"stickyHeader"]};return(0,l.A)(r,h,t)})(v),f=n.useMemo((()=>({padding:g,size:j,stickyHeader:b})),[g,j,b]);return(0,p.jsx)(i.A.Provider,{value:f,children:(0,p.jsx)(x,(0,o.A)({as:u,role:u===A?null:"table",ref:t,className:(0,a.A)(k.root,d),ownerState:v},y))})}))},8740:()=>{}}]);
//# sourceMappingURL=1817.762f4653.chunk.js.map