"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[2970],{24146:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(34535),r=a(96446),n=a(19252),o=a(70579);const i=(0,s.Ay)(r.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),l=e=>{let{children:t}=e;return(0,o.jsx)(i,{className:"MuiPageTitle-wrapper",children:(0,o.jsx)(n.A,{maxWidth:"lg",children:t})})}},98:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var s=a(70579);const r=e=>{const{title:t}=e;return(0,s.jsx)("div",{className:"spinner-container",children:(0,s.jsx)("div",{className:"loading-spinner"})})}},52970:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var s=a(29490),r=a(24146),n=a(33639),o=(a(8740),a(73216)),i=a(35475),l=a(65043),d=a(34535),c=a(83462),u=a(26600),g=a(17392),h=a(26240),m=a(96446),x=a(68903),p=a(88911),A=a(22698),j=a(85865),b=a(53193),v=a(18356),y=a(93088),S=a(91449),f=a(67784),P=a(51787),k=a(19252),C=a(12110),I=a(39336),R=a(79650),w=a(71806),O=a(84882),N=a(28076),T=a(10039),W=a(73460),H=a(11906),z=a(92598),D=a(63336),M=a(35316),B=a(81673),F=a(11633),U=a(66360),E=a(47503),_=a(98),G=a(69525),L=a(74802),J=a(50072),Z=a(73232),$=a(70579);const q=(0,d.Ay)(c.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},"& .MuiPaper-root":{height:"300px"}}}));function K(e){const{children:t,onClose:a,...s}=e;return(0,$.jsxs)(u.A,{sx:{m:0,p:2,fontSize:"18px",fontWeight:"bold"},...s,children:[t,a?(0,$.jsx)(g.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:13,top:13,color:e=>e.palette.grey[500]},children:(0,$.jsx)(L.A,{})}):null]})}const Q=()=>{const e=(0,o.Zp)(),[t,a]=((0,h.A)(),(0,l.useState)(0)),[d,c]=(0,l.useState)(10),[u,g]=(0,l.useState)(10),[L,Q]=(0,l.useState)(!1);let[V,X]=(0,l.useState)(""),[Y,ee]=(0,l.useState)(),[te,ae]=(0,l.useState)();const[se,re]=(0,l.useState)([]),[ne,oe]=(0,l.useState)(["All","Success","Pending","Failed"]),[ie,le]=(0,l.useState)(["All","Active","Override","Upcomming","Expired"]);let[de,ce]=(0,l.useState)();const[ue,ge]=(0,l.useState)(""),[he,me]=(0,l.useState)();let[xe,pe]=(0,l.useState)(""),[Ae,je]=(0,l.useState)("");const[be,ve]=(0,l.useState)(!1),[ye,Se]=(0,l.useState)(!0),[fe,Pe]=(0,l.useState)(!0),[ke,Ce]=(0,l.useState)(!0),[Ie,Re]=(0,l.useState)(!0),{showSnackBar:we,SnackbarComponent:Oe}=(0,Z.d)();(0,l.useEffect)((()=>{let e=JSON.parse(localStorage.getItem("Credentials"));if(ce(e),e)if(1!=e.roleId){let a=e.pagePermissions.findIndex((e=>"Block Users"===e.title));a>=0&&(Se(e.pagePermissions[a].isReadPermission),Pe(e.pagePermissions[a].isAddPermission),Ce(e.pagePermissions[a].isEditPermission),Re(e.pagePermissions[a].isDeletePermission),e.pagePermissions[a].isReadPermission&&Te(t,d))}else Te(t,d)}),[]);const Ne=localStorage.getItem("DateFormat"),Te=async(t,a)=>{try{Q(!0);const s=localStorage.getItem("SessionToken"),r=localStorage.getItem("RefreshToken");let n={startIndex:t,fetchRecord:a,userId:Y,paymentStatus:xe||null,packageStatus:Ae||null,searchString:V||null};const o=await F.A.httpPost("/api/admin/appUsers/getUserPackages",n,s,r);o&&200==o.status?(re(o.recordList),g(o.totalRecords)):401==o.status?(localStorage.clear(),e("/admin")):(500==o.status||400==o.status||300==o.status||404==o.status)&&E.oR.error(o.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT}),Q(!1)}catch(s){Q(!1),E.oR.error(s,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT})}},We=async()=>{ve(!1)},He=async()=>{try{Q(!0);const a=localStorage.getItem("SessionToken"),s=localStorage.getItem("RefreshToken");let r={packageId:he.id,paymentId:he.paymentId,packageDurationId:he.packageDurationId,userId:te};const n=await F.A.httpPost("/api/admin/appUsers/activeUserPackage",r,a,s);n&&200==n.status?(We(),Te(t*d,d)):401==n.status?(localStorage.clear(),e("/admin")):(500==n.status||400==n.status||300==n.status||404==n.status)&&E.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT}),Q(!1)}catch(a){Q(!1),E.oR.error(a,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT})}};return(0,$.jsxs)("div",{children:[(0,$.jsx)(E.N9,{style:{top:"8.5%",right:"0%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,$.jsx)(s.mg,{children:(0,$.jsx)("title",{children:"User Packages"})}),(0,$.jsx)(r.A,{children:(0,$.jsx)(m.A,{p:1,children:(0,$.jsxs)(x.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,$.jsx)(x.Ay,{item:!0,children:(0,$.jsx)(p.A,{alignItems:"left",justifyContent:"space-between",children:(0,$.jsxs)(A.A,{"aria-label":"breadcrumb",children:[(0,$.jsx)(i.N_,{to:"/admin/dashboard",style:{display:"flex",color:"black"},children:(0,$.jsx)(n.A,{})}),(0,$.jsx)(j.A,{variant:"subtitle2",color:"inherit",fontWeight:"bold",children:"User Packages"})]})})}),(0,$.jsx)(x.Ay,{item:!0,children:(0,$.jsxs)(x.Ay,{container:!0,spacing:1.5,children:[(0,$.jsx)(x.Ay,{item:!0,children:(0,$.jsxs)(b.A,{sx:{minWidth:150,mt:{xs:0,md:0}},size:"small",children:[(0,$.jsx)(v.A,{htmlFor:"demo-customized-select-label",children:"Payment Status"}),(0,$.jsx)(y.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",name:"data",value:xe,label:"Payment Status",onChange:e=>{const{name:a,value:s}=e.target;pe(s),xe=s,Te(t,d)},children:ne.map(((e,t)=>(0,$.jsx)(S.A,{value:e,children:e},t)))})]})}),(0,$.jsx)(x.Ay,{item:!0,children:(0,$.jsxs)(b.A,{sx:{minWidth:150,mt:{xs:0,md:0}},size:"small",children:[(0,$.jsx)(v.A,{htmlFor:"demo-customized-select-label1",children:"Package Status"}),(0,$.jsx)(y.A,{labelId:"demo-customized-select-label1",id:"demo-customized-select",name:"data",value:Ae,label:"Payment Status",onChange:e=>{const{name:a,value:s}=e.target;je(s),Ae=s,Te(t,d)},children:ie.map(((e,t)=>(0,$.jsx)(S.A,{value:e,children:e},t)))})]})}),(0,$.jsx)(x.Ay,{item:!0,children:(0,$.jsx)(b.A,{sx:{mt:{xs:.3,md:.3,lg:.3,sm:.3}},children:(0,$.jsx)(f.A,{id:"outlined-basic",label:"Search",variant:"outlined",name:"searchString",value:V,onChange:e=>(e=>{X(e.target.value),V=e.target.value,Te(t,d)})(e),size:"small",InputProps:{startAdornment:(0,$.jsx)(P.A,{position:"start",children:(0,$.jsx)(U.A,{})})}})})})]})})]})})}),(0,$.jsx)(k.A,{maxWidth:"lg",children:(0,$.jsxs)(C.A,{className:"religioncard",children:[(0,$.jsx)("div",{children:L?(0,$.jsx)(_.A,{title:"Loading..."}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(I.A,{}),se&&se.length?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(R.A,{className:"religiontableContainer",children:(0,$.jsxs)(w.A,{stickyHeader:!0,children:[(0,$.jsx)(O.A,{children:(0,$.jsxs)(N.A,{children:[(0,$.jsx)(T.A,{children:"Sr. NO "}),(0,$.jsx)(T.A,{children:"User "}),(0,$.jsx)(T.A,{children:"Package "}),(0,$.jsx)(T.A,{children:"Start Date "}),(0,$.jsx)(T.A,{children:"End Date "}),(0,$.jsx)(T.A,{children:"Amount "}),(0,$.jsx)(T.A,{children:"Status "}),(0,$.jsxs)(T.A,{align:"right",children:["Action"," "]})]})}),(0,$.jsx)(W.A,{children:se.map(((e,a)=>(0,$.jsxs)(N.A,{children:[(0,$.jsx)(T.A,{children:(0,$.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t*d+a+1})}),(0,$.jsx)(T.A,{align:"left",children:(0,$.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.firstName?e.firstName+" "+e.lastName+(e.contactNo?"("+e.contactNo+")":""):"--"})}),(0,$.jsx)(T.A,{align:"left",children:(0,$.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.packageName?e.packageName+"("+e.value+" Month)":"--"})}),(0,$.jsx)(T.A,{align:"left",children:(0,$.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.startDate?(0,G.default)(new Date(e.startDate),Ne):""})}),(0,$.jsx)(T.A,{align:"left",children:(0,$.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.endDate?(0,G.default)(new Date(e.endDate),Ne):""})}),(0,$.jsx)(T.A,{align:"right",children:(0,$.jsxs)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:["\u20b9",e.netAmount]})}),(0,$.jsx)(T.A,{align:"right",children:(0,$.jsxs)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:["Override"===e.status&&(0,$.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#919eab",borderRadius:"5px"},children:e.status}),"Active"===e.status&&(0,$.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#53bc5b",borderRadius:"5px"},children:e.status}),"Upcomming"===e.status&&(0,$.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#1565c0",borderRadius:"5px"},children:e.status}),"Expired"===e.status&&(0,$.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#e20700",borderRadius:"5px"},children:e.status}),"Pending"===e.status&&(0,$.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#fc7b2a",borderRadius:"5px"},children:e.status})]})}),(0,$.jsx)(T.A,{align:"right",children:ke?(0,$.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:"Pending"==e.status?(0,$.jsx)(H.A,{style:{textAlign:"right"},variant:"outlined",size:"small",onClick:t=>{(async(e,t)=>{me(e),ae(t),ve(!0)})(e,e.userId)},children:"Active Package"}):(0,$.jsx)($.Fragment,{})}):(0,$.jsx)($.Fragment,{})})]},e.id)))})]})}),(0,$.jsx)(m.A,{p:2,children:(0,$.jsx)(z.A,{component:"div",count:u,onPageChange:(e,t)=>{a(t),Te(t*d,d)},onRowsPerPageChange:e=>{c(parseInt(e.target.value)),a(0),Te(0,parseInt(e.target.value))},page:t,rowsPerPage:d,rowsPerPageOptions:[10,20,30,40]})})]}):(0,$.jsx)(D.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none",height:"calc(100vh - 453px)"},children:(0,$.jsx)(j.A,{variant:"h5",paragraph:!0,children:"Data not Found"})})]})}),(0,$.jsx)("div",{children:(0,$.jsxs)(q,{open:be,onClose:We,PaperProps:{sx:{height:"40%"}},fullWidth:!0,maxWidth:"md",children:[(0,$.jsx)(K,{id:"customized-dialog-title",onClose:We,children:"Active Dialog"}),(0,$.jsxs)(M.A,{dividers:!0,children:[(0,$.jsx)(Oe,{}),(0,$.jsx)(f.A,{autoFocus:!0,margin:"dense",id:"name",label:"Payment Refererence No",type:"text",fullWidth:!0,variant:"outlined",name:"name",value:ue,onChange:e=>{(e=>{const{name:t,value:a}=e.target;ge(a)})(e)}})]}),(0,$.jsxs)(m.A,{sx:{display:"flex",justifyContent:"space-between",p:"8px"},children:[(0,$.jsx)(B.A,{style:{color:"red",height:"22px",margin:"none",padding:"8px"}}),(0,$.jsxs)("div",{children:[(0,$.jsx)(H.A,{onClick:We,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,$.jsx)(H.A,{onClick:()=>(0,J.A)(He,we)(),variant:"outlined",style:{marginRight:"10px"},children:"Aproved"})]})]})]})})]})})]})}},74802:(e,t,a)=>{var s=a(24994);t.A=void 0;var r=s(a(40039)),n=a(70579),o=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.A=o},66360:(e,t,a)=>{var s=a(24994);t.A=void 0;var r=s(a(40039)),n=a(70579),o=(0,r.default)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.A=o},84882:(e,t,a)=>{a.d(t,{A:()=>b});var s=a(58168),r=a(98587),n=a(65043),o=a(69292),i=a(98610),l=a(21573),d=a(98206),c=a(34535),u=a(92532),g=a(72372);function h(e){return(0,g.Ay)("MuiTableHead",e)}(0,u.A)("MuiTableHead",["root"]);var m=a(70579);const x=["className","component"],p=(0,c.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),A={variant:"head"},j="thead",b=n.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiTableHead"}),{className:n,component:c=j}=a,u=(0,r.A)(a,x),g=(0,s.A)({},a,{component:c}),b=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},h,t)})(g);return(0,m.jsx)(l.A.Provider,{value:A,children:(0,m.jsx)(p,(0,s.A)({as:c,className:(0,o.A)(b.root,n),ref:t,role:c===j?null:"rowgroup",ownerState:g},u))})}))},71806:(e,t,a)=>{a.d(t,{A:()=>j});var s=a(98587),r=a(58168),n=a(65043),o=a(69292),i=a(98610),l=a(41009),d=a(98206),c=a(34535),u=a(92532),g=a(72372);function h(e){return(0,g.Ay)("MuiTable",e)}(0,u.A)("MuiTable",["root","stickyHeader"]);var m=a(70579);const x=["className","component","padding","size","stickyHeader"],p=(0,c.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:a}=e;return(0,r.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,r.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},a.stickyHeader&&{borderCollapse:"separate"})})),A="table",j=n.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiTable"}),{className:c,component:u=A,padding:g="normal",size:j="medium",stickyHeader:b=!1}=a,v=(0,s.A)(a,x),y=(0,r.A)({},a,{component:u,padding:g,size:j,stickyHeader:b}),S=(e=>{const{classes:t,stickyHeader:a}=e,s={root:["root",a&&"stickyHeader"]};return(0,i.A)(s,h,t)})(y),f=n.useMemo((()=>({padding:g,size:j,stickyHeader:b})),[g,j,b]);return(0,m.jsx)(l.A.Provider,{value:f,children:(0,m.jsx)(p,(0,r.A)({as:u,role:u===A?null:"table",ref:t,className:(0,o.A)(S.root,c),ownerState:y},v))})}))},8740:()=>{}}]);
//# sourceMappingURL=2970.dd84dbd6.chunk.js.map