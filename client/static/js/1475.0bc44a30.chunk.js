"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[1475],{94786:(e,t,s)=>{s.d(t,{A:()=>o});s(65043);var a=s(70579);const o=e=>{const{title:t}=e;return(0,a.jsx)("div",{className:"spinner-container",children:(0,a.jsx)("div",{className:"loading-spinner"})})}},1475:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});var a=s(85502),o=s(19778),i=s(24914),l=s(1528),r=s(47260),n=s(72819),d=s(34535),c=s(96446),g=s(12110),m=s(26494),u=s(85865),p=s(67784),h=s(81673),x=s(51787),S=s(17392),f=s(11906),y=s(88911),A=s(88446),v=s(74605),j=s(51962),I=s(53193),b=s(81637),C=s(25078),O=s(12299),P=s(76839),F=(s(38421),s(65043)),T=s(53519),R=s(61072),w=s(78602),E=s(54429),k=s(29490),L=s(93245),D=s(73216),N=s(35475),H=s(47503),_=(s(92342),s(84210)),W=s(44650),B=s.n(W),M=s(11633),Q=(s(28957),s(70579));const Y=e=>{const{title:t}=e;return(0,Q.jsx)("div",{className:"login-container",children:(0,Q.jsx)("div",{className:"loading-login-spinner"})})};var z=s(94786);const U=(0,d.Ay)(c.A)((()=>"\n    overflow: auto;\n    flex: 1;\n    overflow-x: hidden;\n    align-items: center;\n")),G=["MYSQL Configuration","Setup Database","Setup Complete"],q={email:"",password:""},J={email:""},Z={password:""},K={twoFactorCode:""},V={MYSQL_HOST:"127.0.0.1",MYSQL_DATABASE:"matrimony_app",MYSQL_USER:"root",MYSQL_PASSWORD:"",MYSQL_PORT:"3306",password:"",username:"root"},X={heading4:"text-base text-ct-blue-600 font-medium border-b mb-2",orderedList:"space-y-1 text-sm list-decimal"};const $=function(){const[e,t]=F.useState(q),[s,d]=(0,F.useState)(!1),[W,$]=(0,F.useState)(""),[ee,te]=(0,F.useState)(!1),[se,ae]=(0,F.useState)(""),[oe,ie]=(0,F.useState)(!1),[le,re]=(0,F.useState)(!1),[ne,de]=(0,F.useState)(!1),ce=(0,D.Zp)(),[ge,me]=(0,F.useState)(!0),[ue,pe]=F.useState(J),[he,xe]=(0,F.useState)(!1),[Se,fe]=(0,F.useState)(""),[ye,Ae]=(0,F.useState)(!1),[ve,je]=F.useState(Z),[Ie,be]=(0,F.useState)(!1),[Ce,Oe]=(0,F.useState)(""),[Pe,Fe]=(0,F.useState)(!1),[Te,Re]=(0,F.useState)(!1),[we,Ee]=(0,F.useState)(!1),[ke,Le]=(0,F.useState)(!1),[De,Ne]=(0,F.useState)(!1),[He,_e]=(0,F.useState)(!1),[We,Be]=(0,F.useState)(!1),[Me,Qe]=(0,F.useState)(!1),[Ye,ze]=(0,F.useState)(""),[Ue,Ge]=(0,F.useState)(!1),[qe,Je]=F.useState(V),[Ze,Ke]=(0,F.useState)(""),[Ve,Xe]=(0,F.useState)(!1),[$e,et]=(0,F.useState)(""),[tt,st]=F.useState(K),[at,ot]=(0,F.useState)(),[it,lt]=(0,F.useState)(),[rt,nt]=(0,F.useState)(),[dt,ct]=(0,F.useState)(),[gt,mt]=(0,F.useState)(),[ut,pt]=(0,F.useState)(""),[ht,xt]=(0,F.useState)(""),[St,ft]=(0,F.useState)(!1),[yt,At]=(0,F.useState)(null),[vt,jt]=(0,F.useState)(!1),[It,bt]=(0,F.useState)(!1),[Ct,Ot]=(0,F.useState)(!1),[Pt,Ft]=(0,F.useState)(!1),[Tt,Rt]=(0,F.useState)(!1),[wt,Et]=(0,F.useState)("creating"),[kt,Lt]=(0,F.useState)("creating"),[Dt,Nt]=(0,F.useState)("creating");let[Ht,_t]=(0,F.useState)(!1);const[Wt,Bt]=(0,F.useState)("false"),[Mt,Qt]=(0,F.useState)(!1),[Yt,zt]=(0,F.useState)(!1),[Ut,Gt]=(0,F.useState)(!1),[qt,Jt]=(0,F.useState)(!1),[Zt,Kt]=(0,F.useState)(!1),[Vt,Xt]=(0,F.useState)(!1),[$t,es]=(0,F.useState)(!1),[ts,ss]=(0,F.useState)(!1),[as,os]=(0,F.useState)(!1);let[is,ls]=(0,F.useState)(!1),[rs,ns]=(0,F.useState)([]);const[ds,cs]=(0,F.useState)(!1),[gs,ms]=(0,F.useState)(!0),[us,ps]=(0,F.useState)(""),[hs,xs]=(0,F.useState)(""),[Ss,fs]=(0,F.useState)(null),[ys,As]=(0,F.useState)(!0),vs=s=>{const{name:a,value:o}=s.target;t({...e,[a]:o})},js=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})");(0,F.useEffect)((()=>{setTimeout((()=>{Ps()}),4e3)}),[]);const Is=async()=>{try{const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken"),s=sessionStorage.getItem("fcmToken");await M.A.httpPost("/api/admin/users/updateFCMToken",{fcmToken:s},e,t)}catch(e){H.oR.error(e.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}},bs=e=>{const{name:t,value:s}=e.target;s?(Xe(!1),et("")):(Xe(!0),et("Email is Required"))},Cs=e=>{const{name:t,value:s}=e.target;st({...tt,[t]:s})},Os=async e=>{null===e||void 0===e||e.preventDefault();try{const e=it,t=await M.A.httpPost("/api/admin/users/validateOTP",{token:tt.twoFactorCode},e,at);if(200===t.status){localStorage.setItem("RefreshToken",at),localStorage.setItem("SessionToken",it),localStorage.setItem("UserId",rt),localStorage.setItem("Credentials",JSON.stringify(dt)),localStorage.setItem("isFirstLogin",JSON.stringify(!1)),ce("/admin/dashboard"),Is();const e=it;let t=(await M.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},e,at)).recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",t)}else t&&401===t.status?H.oR.error("Invalid Code",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT}):(500==t.status||400==t.status||300==t.status||404==t.status)&&H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),H.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}},Ps=async()=>{try{const e=await M.A.httpPost("/api/admin/configuration/getConfiguration",{});e&&200==e.status?(Ge(e.recordList[0].isTakeHostDetail),e.recordList[0].isTakeHostDetail&&(_e(!0),me(!1),ws(0)),Qe(!0),re(!1),As(!1)):(500==e.status||400==e.status||300==e.status||404==e.status)&&H.oR.error(e.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}catch(e){re(!1),_e(!0),me(!1),Qe(!1),Be(!0),H.oR.error(e,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}},Fs=e=>{const{name:t,value:s}=e.target;Je({...qe,[t]:s}),re(!1),ft(!1),de(!1),os(!1),rs.length=0},Ts=async e=>{if(bt(!1),yt||"false"===Wt||es(!0),qe.MYSQL_DATABASE){ws(2),Rt(!0),Et("creating"),es(!1),ss(!1),re(!0),null===e||void 0===e||e.preventDefault();let t={version:vt?yt:null,MYSQL_DATABASE:qe.MYSQL_DATABASE,hostName:qe.MYSQL_HOST,isCreateDatabaseUser:ds,username:qe.MYSQL_USER,password:qe.MYSQL_PASSWORD,port:qe.MYSQL_PORT};const s=await M.A.httpPost("/api/admin/configuration/databaseConfiguration",t);if(200===s.status){if(ps(s.recordList[0].email),xs("Demo@1234"),Et("created"),Ct){_t(!0),Ht=!0;let e={version:yt};const t=await M.A.httpPost("/api/admin/configuration/installMasterData",e);t&&200==t.status&&(_t(!0),Ht=!0,Lt("created"))}if(Pt){let e={version:yt};const t=await M.A.httpPost("/api/admin/configuration/installSampleData",e);t&&200==t.status&&(ls(!0),is=!0,Nt("created"))}Ct||Pt?(Ct&&1==Ht&&bt(!0),Pt&&1==is&&bt(!0)):bt(!0),Ge(!1),ft(!0),re(!1)}else s&&401==s.status?(Et("Error"),ws(1),H.oR.error("Invalid Code",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})):(500==s.status||400==s.status||300==s.status||404==s.status)&&(Et("Error"),H.oR.error(s.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT}))}else ss(!0)},[Rs,ws]=F.useState(0),[Es,ks]=F.useState(new Set),Ls=e=>Es.has(e);return(0,Q.jsxs)("div",{children:[(0,Q.jsx)(H.N9,{position:"top-right",autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,Q.jsxs)(U,{children:[(0,Q.jsx)(k.mg,{children:(0,Q.jsx)("title",{children:"Matrimony"})}),(0,Q.jsxs)(T.A,{children:[!He&&(0,Q.jsx)(R.A,{className:"d-flex justify-content-center align-items-center",style:{position:"fixed",left:0,top:0,width:"100%",height:"100%"},children:!ys&&(0,Q.jsxs)(w.A,{md:8,lg:6,xs:12,style:{maxWidth:"500px"},children:[(0,Q.jsx)("div",{style:{height:"72px"},children:(0,Q.jsx)(_.A,{})}),(0,Q.jsx)(g.A,{style:{borderRadius:"10px"},children:(0,Q.jsxs)(m.A,{style:{padding:"24px"},children:[ge&&(0,Q.jsxs)(E.A,{onSubmit:e=>{null===e||void 0===e||e.preventDefault()},children:[(0,Q.jsx)(u.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Login"}),(0,Q.jsx)(p.A,{required:!0,type:"email",sx:{width:"100%",mt:3},name:"email",label:"Email",autoFocus:!0,value:e.email,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?(d(!1),$("")):(d(!0),$("Email is Required"))})(e),vs(e)}}),(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:s&&W}),(0,Q.jsx)(p.A,{required:!0,sx:{width:"100%",mt:"1%"},name:"password",label:"Password",type:oe?"text":"password",InputProps:{endAdornment:(0,Q.jsx)(x.A,{position:"end",children:(0,Q.jsx)(S.A,{onClick:()=>ie(!oe),edge:"end",children:!0===oe?(0,Q.jsx)(r.A,{}):(0,Q.jsx)(n.A,{})})})},value:e.password,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?(te(!1),ae("")):(te(!0),ae("Password is Required"))})(e),vs(e)}}),(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:ee&&se}),(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async t=>{null===t||void 0===t||t.preventDefault();var s=(t=>{null===t||void 0===t||t.preventDefault();var s=!0;return e.email?B().isEmail(e.email)?(d(!1),$(""),s=!0):(d(!0),$("Invalid Email"),s=!1):(d(!0),$("Email is Required"),s=!1),e.password&&js.test(e.password)?(te(!1),ae(""),s=!0):(te(!0),ae("Password is Required"),s=!1),s})(t);if(s)try{const t=await M.A.httpPost("/api/admin/users/login",e);if(t&&200==t.status){let s;Ke(e.email),ot(t.recordList[0].refreshToken),lt(t.recordList[0].token),nt(t.recordList[0].id),s=t.recordList[0],ct(t.recordList[0]),localStorage.setItem("DefaultCurrency",JSON.stringify(t.recordList[0].defaultCurrency[0]));let a=JSON.parse(localStorage.getItem("isFirstLogin"));if(a=0!=a,"admin@admin.com"===e.email&&a)me(!1),Ae(!0),Re(!1),Ee(!1),Le(!1),Ne(!1);else if("Demo@1234"===e.password&&a)me(!1),Ae(!1),Re(!0),Ee(!1),Le(!1),Ne(!1);else if(s.isTwoFactorEnable)me(!1),Ae(!1),Re(!1),Le(!1),Ne(!1),Ee(!0);else if(0==s.isTwoFactorEnable){localStorage.setItem("RefreshToken",t.recordList[0].refreshToken),localStorage.setItem("SessionToken",t.recordList[0].token),localStorage.setItem("UserId",t.recordList[0].id),localStorage.setItem("Credentials",JSON.stringify(t.recordList[0])),localStorage.setItem("DefaultCurrency",JSON.stringify(t.recordList[0].defaultCurrency[0])),localStorage.setItem("isFirstLogin",JSON.stringify(!1)),Is();const e=localStorage.getItem("SessionToken"),a=localStorage.getItem("RefreshToken");let o=await M.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},e,a);console.log(o.recordList);let i=o.recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",i);let l=o.recordList[0].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name)),r=o.recordList[0].systemFlag[l].value;localStorage.setItem("isUserProfilePicApprove",r);let n=o.recordList;if(n&&n.length>0)for(let t=0;t<n.length;t++){for(let e=0;e<n[t].group.length;e++)if(n[t].group[e].systemFlag&&n[t].group[e].systemFlag.length>0){let s=n[t].group[e].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(s>=0){let a=n[t].group[e].systemFlag[s].value;localStorage.setItem("isEnableCustomFields",a)}let a=n[t].group[e].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(a>=0){let s=n[t].group[e].systemFlag[a].value;localStorage.setItem("isUserProfilePicApprove",s)}let o=n[t].group[e].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(o>=0){let s=n[t].group[e].systemFlag[o].value;localStorage.setItem("isEnableFamilyDetails",s)}let i=n[t].group[e].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(i>=0){let s=n[t].group[e].systemFlag[i].value;localStorage.setItem("isEnableAstrologicDetails",s)}let l=n[t].group[e].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(l>=0){let s=n[t].group[e].systemFlag[l].value;localStorage.setItem("isEnableLifeStyles",s)}let r=n[t].group[e].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(r>=0){let s=n[t].group[e].systemFlag[r].value;localStorage.setItem("isEnableCommunity",s)}let d=n[t].group[e].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(d>=0){let s=n[t].group[e].systemFlag[d].value;localStorage.setItem("isEnableSubCommunity",s)}}if(n[t].systemFlag&&n[t].systemFlag.length>0){let e=n[t].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(e>=0){let s=n[t].systemFlag[e].value;localStorage.setItem("isEnableCustomFields",s)}let s=n[t].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(s>=0){let e=n[t].systemFlag[s].value;localStorage.setItem("isUserProfilePicApprove",e)}let a=n[t].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(a>=0){let e=n[t].systemFlag[a].value;localStorage.setItem("isEnableFamilyDetails",e)}let o=n[t].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(o>=0){let e=n[t].systemFlag[o].value;localStorage.setItem("isEnableAstrologicDetails",e)}let i=n[t].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(i>=0){let e=n[t].systemFlag[i].value;localStorage.setItem("isEnableLifeStyles",e)}let l=n[t].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(l>=0){let e=n[t].systemFlag[l].value;localStorage.setItem("isEnableCommunity",e)}let r=n[t].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(r>=0){let e=n[t].systemFlag[r].value;localStorage.setItem("isEnableCommunity",e)}}}if(3===s.roleId&&0===s.pagePermissions.length)ce("/admin/nopagepermission");else if(3===s.roleId&&s.pagePermissions.length>0){let e=s.pagePermissions.length-1;s.pagePermissions[e];ce("/admin/dashboard")}else ce("/admin/dashboard")}else me(!1),Ae(!1),Re(!1),Ee(!0),Le(!1),Ne(!1)}else t&&500==t.status?H.oR.error("User does not exists!",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"Password Mismatch"===t.message&&H.oR.error("Invalid Credentials!",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}catch(a){console.error(a)}history.go(1)},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"LOGIN"})}),(0,Q.jsx)(y.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:1},children:(0,Q.jsx)(N.N_,{to:"/forgotpassword",style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px"},children:"Forgot password?"})})]}),ye&&(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(E.A,{children:[(0,Q.jsx)(u.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Change Default Email"}),(0,Q.jsx)(p.A,{required:!0,type:"email",sx:{width:"100%",mt:3},name:"email",label:"Email",autoFocus:!0,value:ue.email,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?B().isEmail(e.target.value)?(xe(!1),fe("")):(xe(!0),fe("Invalid Email")):(xe(!0),fe("Email is Required"))})(e),(e=>{const{name:t,value:s}=e.target;pe({...ue,[t]:s})})(e)}}),(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:he&&Se}),(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async e=>{null===e||void 0===e||e.preventDefault();try{const e=it,t=await M.A.httpPost("/api/admin/users/updateEmail",{email:ue.email},e,at);200===t.status?(Ke(ue.email),me(!1),Ae(!1),Re(!0)):t&&401===t.status?ce("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),H.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"Change Email"})}),(0,Q.jsx)(y.A,{direction:"row",alignItems:"center",justifyContent:"space-evenly",sx:{my:1},children:(0,Q.jsx)(A.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{me(!1),Ae(!1),Re(!0)},children:"Skip"})})]})}),Te&&(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(E.A,{children:[(0,Q.jsx)(u.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Change Default Password"}),(0,Q.jsx)(p.A,{required:!0,sx:{width:"100%",mt:"1%"},name:"password",label:"Password",type:Pe?"text":"password",InputProps:{endAdornment:(0,Q.jsx)(x.A,{position:"end",children:(0,Q.jsx)(S.A,{onClick:()=>Fe(!Pe),edge:"end",children:!0===Pe?(0,Q.jsx)(r.A,{}):(0,Q.jsx)(n.A,{})})})},value:ve.password,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s&&js.test(e.target.value)?(be(!1),Oe("")):(be(!0),Oe("Password is Required"))})(e),(e=>{const{name:t,value:s}=e.target;je({...ve,[t]:s})})(e)}}),(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:Ie&&Ce}),(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async e=>{null===e||void 0===e||e.preventDefault();try{const e=it,t=await M.A.httpPost("/api/admin/users/updatePassword",{password:ve.password},e,at);200===t.status?(localStorage.setItem("isFirstLogin",JSON.stringify(!1)),me(!1),Ae(!1),Re(!1),Ee(!0),Le(!1),Ne(!1)):t&&401===t.status?ce("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),H.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"Change Password"})}),(0,Q.jsxs)(y.A,{direction:"row",alignItems:"center",justifyContent:"space-evenly",sx:{my:1},children:[(0,Q.jsx)(A.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{me(!1),Ae(!0),Re(!1)},children:"Back"}),(0,Q.jsx)(A.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{localStorage.setItem("RefreshToken",at),localStorage.setItem("SessionToken",it),localStorage.setItem("UserId",rt),localStorage.setItem("Credentials",JSON.stringify(dt)),localStorage.setItem("isFirstLogin",JSON.stringify(!1)),Is();const t=it;let s=await M.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},t,at),a=s.recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",a);let o=s.recordList;if(o&&o.length>0)for(let i=0;i<o.length;i++){for(let e=0;e<o[i].group.length;e++)if(o[i].group[e].systemFlag&&o[i].group[e].systemFlag.length>0){let t=o[i].group[e].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(t>=0){let s=o[i].group[e].systemFlag[t].value;localStorage.setItem("isEnableCustomFields",s)}let s=o[i].group[e].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(s>=0){let t=o[i].group[e].systemFlag[s].value;localStorage.setItem("isUserProfilePicApprove",t)}let a=o[i].group[e].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(a>=0){let t=o[i].group[e].systemFlag[a].value;localStorage.setItem("isEnableFamilyDetails",t)}let l=o[i].group[e].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(l>=0){let t=o[i].group[e].systemFlag[l].value;localStorage.setItem("isEnableAstrologicDetails",t)}let r=o[i].group[e].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(r>=0){let t=o[i].group[e].systemFlag[r].value;localStorage.setItem("isEnableLifeStyles",t)}let n=o[i].group[e].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(n>=0){let t=o[i].group[e].systemFlag[n].value;localStorage.setItem("isEnableCommunity",t)}let d=o[i].group[e].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(d>=0){let t=o[i].group[e].systemFlag[d].value;localStorage.setItem("isEnableSubCommunity",t)}}if(o[i].systemFlag&&o[i].systemFlag.length>0){let e=o[i].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(e>=0){let t=o[i].systemFlag[e].value;localStorage.setItem("isEnableCustomFields",t)}let t=o[i].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(t>=0){let e=o[i].systemFlag[t].value;localStorage.setItem("isUserProfilePicApprove",e)}let s=o[i].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(s>=0){let e=o[i].systemFlag[s].value;localStorage.setItem("isEnableFamilyDetails",e)}let a=o[i].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(a>=0){let e=o[i].systemFlag[a].value;localStorage.setItem("isEnableAstrologicDetails",e)}let l=o[i].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(l>=0){let e=o[i].systemFlag[l].value;localStorage.setItem("isEnableLifeStyles",e)}let r=o[i].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(r>=0){let e=o[i].systemFlag[r].value;localStorage.setItem("isEnableCommunity",e)}let n=o[i].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(n>=0){let e=o[i].systemFlag[n].value;localStorage.setItem("isEnableCommunity",e)}}}3===dt.roleId&&0===dt.pagePermissions.length?ce("/admin/nopagepermission"):ce("/admin/dashboard")},children:"Skip"})]})]})}),we&&(0,Q.jsxs)(E.A,{children:[(0,Q.jsx)(u.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Set Up Two-Factor Authentication"}),(0,Q.jsx)(u.A,{noWrap:!0,style:{fontSize:"15px",fontWeight:"bold",marginBottom:"none"},children:"Send Authentication Code to your login Email"}),(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",disabled:"demo@admin.com"===(null===e||void 0===e?void 0:e.email),onClick:async e=>{null===e||void 0===e||e.preventDefault();try{const e=it,t=await M.A.httpPost("/api/admin/users/generateOTP",{},e,at);if(200===t.status){let e=dt;e.isTwoFactorEnable=1,ct(e),pt(t.recordList[0].otpAuthUrl),xt(t.recordList[0].baseSecret),Ee(!1),Le(!0),Ne(!1)}else t&&401===t.status?ce("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),H.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"Setup 2FA"})}),(0,Q.jsxs)(y.A,{direction:"row",alignItems:"center",justifyContent:"space-evenly",sx:{my:1},children:[(0,Q.jsx)(A.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{null===e||void 0===e||e.preventDefault();try{const e=it,t=await M.A.httpPost("/api/admin/users/updateAuthenticationStatus",{isTwoFactorEnable:null},e,at);if(200===t.status){localStorage.setItem("RefreshToken",at),localStorage.setItem("SessionToken",it),localStorage.setItem("UserId",rt),localStorage.setItem("Credentials",JSON.stringify(dt));let e=JSON.parse(localStorage.getItem("Credentials"));3===e.roleId&&0===e.pagePermissions.length?ce("/admin/nopagepermission"):ce("/admin/dashboard"),Is();const t=it;let s=(await M.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},t,at)).recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",s)}else t&&401===t.status?ce("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),H.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}},children:"Remind me Later"}),"demo@admin.com"===(null===e||void 0===e?void 0:e.email)?(0,Q.jsx)(Q.Fragment,{children:"Skip For Now"}):(0,Q.jsx)(A.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{null===e||void 0===e||e.preventDefault();try{const e=it,t=await M.A.httpPost("/api/admin/users/updateAuthenticationStatus",{isTwoFactorEnable:!1},e,at);if(200===t.status){localStorage.setItem("RefreshToken",at),localStorage.setItem("SessionToken",it),localStorage.setItem("UserId",rt),localStorage.setItem("Credentials",JSON.stringify(dt));let e=JSON.parse(localStorage.getItem("Credentials"));3===e.roleId&&0===e.pagePermissions.length?ce("/admin/nopagepermission"):ce("/admin/dashboard"),Is();const t=it;let s=(await M.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},t,at)).recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",s)}else t&&401===t.status?ce("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),H.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})}},children:"Skip For Now"})]})]}),ke&&(0,Q.jsxs)(E.A,{children:[(0,Q.jsx)(u.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Two-Factor Authentication"}),(0,Q.jsx)("h4",{className:X.heading4,children:"Configuring Google Authenticator or Authy"}),(0,Q.jsxs)("div",{className:X.orderedList,children:[(0,Q.jsx)("li",{children:"Install Google Authenticator (IOS - Android) or Authy (IOS - Android)."}),(0,Q.jsx)("li",{children:'In the authenticator app, select "+" icon.'}),(0,Q.jsx)("li",{children:'Select "Scan a barcode (or QR code)" and use the phone\'s camera to scan this barcode.'})]}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("h4",{className:X.heading4,children:"Scan QR Code"}),(0,Q.jsx)("div",{className:"flex justify-center",children:(0,Q.jsx)(L.Ay,{value:ut})})]}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("h4",{className:X.heading4,children:"Or Enter Code Into Your App"}),(0,Q.jsxs)("p",{className:"text-sm",children:["SecretKey: ",ht," (Base32 encoded)"]})]}),(0,Q.jsx)(p.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"twoFactorCode",label:"Authentication Code",autoFocus:!0,value:tt.twoFactorCode,onChange:e=>{bs(e),Cs(e)}}),(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:Ve&&$e}),(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:Os,style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"Authenticate"})})]}),De&&(0,Q.jsxs)(E.A,{children:[(0,Q.jsx)(u.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Two-Factor Authentication"}),(0,Q.jsx)(u.A,{noWrap:!0,style:{fontSize:"15px",fontWeight:"bold",marginBottom:"none"},children:"Enter Authentication Code"}),(0,Q.jsx)(p.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"twoFactorCode",label:"Authentication Code",autoFocus:!0,value:tt.twoFactorCode,onChange:e=>{bs(e),Cs(e)}}),(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:Ve&&$e}),(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:Os,style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"Authenticate"})})]})]})})]})}),ys&&(0,Q.jsxs)(Q.Fragment,{children:[" ",(0,Q.jsx)(z.A,{title:"Loading..."})]}),(He||Ue)&&!ys&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{style:{textAlign:"center",marginTop:"40px"},children:(0,Q.jsx)("img",{src:"/admin/Image20221010173301.png",height:"50",alt:"logo"})}),(0,Q.jsx)(u.A,{sx:{textAlign:"center",fontSize:"36px",marginTop:"11px",fontWeight:"600",marginBottom:"20px",color:"#596bfa"},children:"Welcome to Matrimony Configuration"}),(0,Q.jsx)(u.A,{sx:{textAlign:"center",fontSize:"12px",fontWeight:"600px",marginBottom:"20px"},children:"Please follow below steps to setup"}),(0,Q.jsxs)(R.A,{children:[(0,Q.jsx)(w.A,{md:3,lg:3,xs:12}),(0,Q.jsx)(w.A,{md:6,lg:6,xs:12,children:(0,Q.jsx)(g.A,{sx:{padding:"10px",marginTop:"10px",margin:"auto",minHeight:"calc(100vh - 240px)",position:"relative",paddingBottom:"80px"},children:(0,Q.jsx)(R.A,{children:(0,Q.jsx)(w.A,{md:12,lg:12,xs:12,children:(0,Q.jsxs)(c.A,{sx:{width:"100%"},children:[(0,Q.jsx)(P.A,{activeStep:Rs,style:{margin:"0px auto 30px auto"},children:G.map(((e,t)=>{const s={};return Ls(t)&&(s.completed=!1),(0,Q.jsx)(C.A,{...s,children:(0,Q.jsx)(O.A,{children:e})},e)}))}),Rs===G.length?(0,Q.jsxs)(F.Fragment,{children:[(0,Q.jsx)(u.A,{sx:{mt:2,mb:1},children:"All steps completed - you're finished"}),(0,Q.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",pt:2},children:[(0,Q.jsx)(c.A,{sx:{flex:"1 1 auto"}}),(0,Q.jsx)(f.A,{onClick:()=>{ws(0)},children:"Reset"})]})]}):(0,Q.jsxs)(F.Fragment,{children:[0==Rs&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(E.A,{children:[(0,Q.jsxs)("div",{children:[(0,Q.jsx)(p.A,{required:!0,type:"text",sx:{width:"100%"},name:"MYSQL_HOST",label:"Database Host",autoFocus:!0,value:qe.MYSQL_HOST,onChange:e=>{Fs(e)}}),Yt&&(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:"HostName is required"}),(0,Q.jsx)(p.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"MYSQL_PORT",label:"Database Port",autoFocus:!0,value:qe.MYSQL_PORT,onChange:e=>{Fs(e)}}),qt&&(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:"PORT is required"}),(0,Q.jsx)(p.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"MYSQL_DATABASE",label:"Database Name",autoFocus:!0,value:qe.MYSQL_DATABASE,onChange:e=>{Fs(e)}}),Zt&&(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:"Database Name is required"}),(0,Q.jsx)(p.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"MYSQL_USER",label:"User Name",autoFocus:!0,value:qe.MYSQL_USER,onChange:e=>{Fs(e)}}),Ut&&(0,Q.jsx)(h.A,{style:{color:"red",height:"22px"},children:"UserName is required"}),(0,Q.jsx)(p.A,{required:!0,type:oe?"text":"password",sx:{width:"100%",mt:3},name:"MYSQL_PASSWORD",label:"Password",autoFocus:!0,value:qe.MYSQL_PASSWORD,onChange:e=>{Fs(e)},InputProps:{endAdornment:(0,Q.jsx)(x.A,{position:"end",children:(0,Q.jsx)(S.A,{onClick:()=>ie(!oe),edge:"end",children:!0===oe?(0,Q.jsx)(r.A,{}):(0,Q.jsx)(n.A,{})})})}})," "]}),as&&(0,Q.jsx)("div",{style:{marginTop:"20px"},children:(0,Q.jsx)(v.A,{control:(0,Q.jsx)(l.A,{}),label:" No database was found. Please create a new blank database with the same name on your MySQL server, and ensure that the user has all the necessary privileges. After that, reconfigure the setup and restart the process.",sx:{color:"red",fontWeight:"bold"}})}),St&&!le&&null==yt&&(0,Q.jsxs)("div",{children:[" ",(0,Q.jsx)(j.A,{checked:!0}),"Connection Successful"]}),St&&!le&&null!=yt&&(0,Q.jsxs)("div",{children:[" ",(0,Q.jsx)(j.A,{checked:!0}),"Connection Established Successfully! You're on Version ",yt]})]}),(0,Q.jsxs)("div",{style:{position:"absolute",bottom:"20px",width:"96%",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[(0,Q.jsx)(f.A,{fullWidth:!0,type:"button",variant:"contained",onClick:async e=>{if(qe.MYSQL_HOST||zt(!0),qe.MYSQL_USER||Gt(!0),qe.MYSQL_PORT){zt(!1),Xt(!1),Gt(!1),Jt(!1),Kt(!1),os(!1),re(!0),null===e||void 0===e||e.preventDefault();const t=await M.A.httpPost("/api/admin/configuration/testConnection",qe);200===t.status?(me(!0),Ge(!1),ft(!0),re(!1),ns(t.recordList),os(!1),jt(!1),0!=t.recordList?(jt(!0),At(t.recordList[0])):At(null)):t&&401==t.status?(jt(!1),ft(!1),de(!1),re(!1),H.oR.error("Invalid Code",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})):500==t.status?(jt(!1),ft(!1),re(!1),H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})):400==t.status?(jt(!1),ft(!1),re(!1),os(!0),de(!1),H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})):300==t.status?(jt(!1),ft(!1),re(!1),de(!1),H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT})):404==t.status&&(jt(!1),ft(!1),de(!1),re(!1),H.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT}))}else Jt(!0)},style:{fontWeight:"bolder"},disabled:St&&!le,children:(0,Q.jsxs)("div",{children:[!St&&!le&&"Test Connection",le&&"Testing",St&&!le&&"Connection Established"]})}),(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",disabled:!St,onClick:async e=>{if(bt(!1),St){ws(1),Rt(!0),Et("creating"),es(!1),ss(!1),re(!1),null===e||void 0===e||e.preventDefault();qe.MYSQL_DATABASE,qe.MYSQL_USER,qe.MYSQL_PASSWORD,qe.MYSQL_PORT,qe.MYSQL_HOST}},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"Save & Configure"})})]})]}),1==Rs&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(E.A,{onSubmit:Ts,children:[St&&vt&&(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(I.A,{sx:{width:"100%",display:"inline"},children:(0,Q.jsxs)("div",{children:[" ",(0,Q.jsx)(j.A,{checked:!0})," Existing database version ",yt," detected"," "]})})}),St&&(0,Q.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Q.jsx)(j.A,{onChange:e=>{Ot(e.target.checked)},inputProps:{"aria-label":"controlled"},style:{padding:"9px 0px"}}),"Install MasterData"]}),St&&!vt&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(j.A,{onChange:e=>{Ft(e.target.checked)},style:{padding:"9px 0px"},inputProps:{"aria-label":"controlled"},disabled:!Ct}),"Install SampleData"]})]}),(0,Q.jsxs)("div",{style:{position:"absolute",bottom:"20px",width:"96%",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",disabled:!qe.MYSQL_DATABASE,onClick:Ts,style:{fontWeight:"bolder",marginTop:"1%"},children:(0,Q.jsx)("div",{children:le?(0,Q.jsx)(Y,{title:"Loading..."}):"continue"})}),(0,Q.jsx)(f.A,{fullWidth:!0,color:"inherit",onClick:()=>{1===Rs?(ws(0),re(!1)):ws(1)},sx:{mr:1},variant:"outlined",children:"Back"})]})]}),2==Rs&&(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(u.A,{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[!It&&(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(u.A,{style:{marginBottom:"10px"},children:"Please wait while we are installing the database"})}),(0,Q.jsxs)(u.A,{children:["creating"===wt?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(b.A,{thickness:1,style:{height:"18px",width:"18px",marginRight:"20px"}}),"Creating Database..."]})}):(0,Q.jsx)(Q.Fragment,{children:Tt&&"created"===wt?(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(o.A,{style:{color:"#78b144",marginRight:"10px"}}),"Database Created"]}):(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(a.A,{style:{color:"red",marginRight:"10px"}}),"Error in database creation"]})}),Ct&&(0,Q.jsx)(Q.Fragment,{children:"creating"===kt&&"Error"!==wt?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(b.A,{thickness:1,style:{height:"18px",width:"18px",marginRight:"20px"}}),"Installing MasterData..."]})}):(0,Q.jsx)(Q.Fragment,{children:Ct&&Ht?(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(o.A,{style:{color:"#78b144",marginRight:"10px"}}),"MasterData Installed"]}):(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(a.A,{style:{color:"red",marginRight:"10px"}}),"Error in installing Masterdata"]})})}),Pt&&(0,Q.jsx)(Q.Fragment,{children:"creating"===Dt&&"Error"!==wt?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(b.A,{thickness:1,style:{height:"18px",width:"18px",marginRight:"20px"}}),"Installing SampleData..."]})}):(0,Q.jsx)(Q.Fragment,{children:Pt&&is?(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(o.A,{style:{color:"#78b144",marginRight:"10px"}}),"SampleData Installed"]}):(0,Q.jsxs)(u.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,Q.jsx)(a.A,{style:{color:"red",marginRight:"10px"}}),"Error in installing SampleData"]})})})]}),"Error"===wt&&(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async()=>{ws(0),Rt(!1),bt(!0),re(!1),ft(!1),jt(!1)},style:{fontWeight:"bolder",marginTop:"2%",width:"15%"},children:"Back"}),It&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(u.A,{style:{fontSize:"42px",textAlign:"center",fontWeight:"900",marginTop:"10px",color:"#78b144"},children:"Congratulations!"}),(0,Q.jsx)(u.A,{style:{fontSize:"17px",textAlign:"center",fontWeight:"600",margin:"40px 0px"},children:"Your configuration process has been successfully completed. Below are your credentials. We appreciate your cooperation in this matter and look forward to your continued success with our services."}),(0,Q.jsx)(u.A,{style:{fontSize:"19px",textAlign:"center",fontWeight:"600",marginTop:"10px",color:"red"},children:"Please restart API(Nodejs APP) - Check documentation"}),!yt&&(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(c.A,{style:{border:"1px solid #ddd",marginTop:"20px",padding:"8px",width:"300px"},children:[(0,Q.jsx)(f.A,{type:"button",variant:"contained",style:{fontWeight:"bolder",width:"15%",float:"right",right:"-10px",top:"-10px",padding:"3px",minWidth:"0px"},onClick:()=>{const e="UserName:"+this.userName+"\nPassword:"+this.password;navigator.clipboard.writeText(e).then((()=>{alert("Text copied to clipboard!")})).catch((e=>{console.error("Failed to copy text: ",e)}))},children:(0,Q.jsx)(i.A,{})}),(0,Q.jsxs)(u.A,{style:{fontSize:"14px",marginTop:"10px"},children:["Username : ",us]}),(0,Q.jsxs)(u.A,{style:{fontSize:"14px"},children:["Password: ",hs]})]})}),(0,Q.jsx)("div",{style:{position:"absolute",bottom:"20px",width:"96%",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:(0,Q.jsx)(f.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async()=>{const e=await M.A.httpPost("/api/admin/configuration/restartConnection",qe);200===e.status&&(0==e.recordList?(H.oR.warning("Please restart your API server before loggin in.",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:H.oR.POSITION.TOP_RIGHT}),ms(!0)):(ms(!1),me(!0),_e(!1),yt||t({email:us,password:hs})))},style:{fontWeight:"bolder",marginTop:"5%"},children:"Go To Login"})})]})]})})]})]})})})})}),(0,Q.jsx)(w.A,{md:3,lg:3,xs:12})]})]})]})]})]})}},28957:()=>{}}]);
//# sourceMappingURL=1475.0bc44a30.chunk.js.map