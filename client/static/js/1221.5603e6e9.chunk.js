"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[1221],{24146:(e,t,s)=>{s.d(t,{A:()=>l});var i=s(34535),a=s(96446),n=s(19252),o=s(70579);const r=(0,i.Ay)(a.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),l=e=>{let{children:t}=e;return(0,o.jsx)(r,{className:"MuiPageTitle-wrapper",children:(0,o.jsx)(n.A,{maxWidth:"lg",children:t})})}},1221:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ie});var i=s(29490),a=s(24146),n=s(34535),o=s(83462),r=s(26600),l=s(17392),d=s(26240),c=s(96446),m=s(68903),g=s(88911),u=s(22698),h=s(85865),p=s(11906),x=s(53193),A=s(67784),j=s(51787),y=s(19252),v=s(12110),S=s(39336),f=s(79650),b=s(71806),C=s(84882),I=s(28076),P=s(10039),k=s(73460),R=s(69392),T=s(4598),w=s(92598),O=s(63336),H=s(35316),N=s(98533),z=s(29347),W=s(18356),B=s(93088),M=s(91449),F=s(81673),_=s(33639),L=s(26688),q=s(39155),D=s(74802),G=s(73216),E=s(35475),U=s(94786),Z=s(65043),$=s(11633),J=s(66360),Y=s(47503),K=(s(92342),s(8740),s(50072)),Q=s(73232),V=s(70579);const X=(0,n.Ay)(o.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},"& .MuiPaper-root":{height:"350px"}}}));function ee(e){const{children:t,onClose:s,...i}=e;return(0,V.jsxs)(r.A,{sx:{m:0,p:2,fontSize:"18px",fontWeight:"bold"},...i,children:[t,s?(0,V.jsx)(l.A,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:13,top:13,color:e=>e.palette.grey[500]},children:(0,V.jsx)(D.A,{})}):null]})}const te={id:0,name:"",religionId:0},se={PaperProps:{style:{maxHeight:224,width:250}}};const ie=function(){const[e,t]=(0,Z.useState)(0),[s,n]=(0,Z.useState)(10),[D,ie]=(0,Z.useState)(10),[ae,ne]=Z.useState([]),[oe,re]=Z.useState([]),[le,de]=Z.useState(te),[ce,me]=Z.useState(!1),[ge,ue]=(0,Z.useState)(!1),[he,pe]=(0,Z.useState)(!1),[xe,Ae]=(0,Z.useState)(!1),[je,ye]=(0,Z.useState)("");let[ve,Se]=(0,Z.useState)("");const[fe,be]=(0,Z.useState)(!1),[Ce,Ie]=(0,Z.useState)(""),Pe=(0,G.Zp)(),[ke,Re]=(0,Z.useState)(!1),[Te,we]=(0,Z.useState)("");let[Oe,He]=(0,Z.useState)();const[Ne,ze]=(0,Z.useState)(!0),[We,Be]=(0,Z.useState)(!0),[Me,Fe]=(0,Z.useState)(!0),[_e,Le]=(0,Z.useState)(!0),{showSnackBar:qe,SnackbarComponent:De}=(0,Q.d)();Z.useEffect((()=>{let e=JSON.parse(localStorage.getItem("Credentials"));if(He(e),e)if(1!=e.roleId){let t=e.pagePermissions.findIndex((e=>"Block Users"===e.title));t>=0&&(ze(e.pagePermissions[t].isReadPermission),Be(e.pagePermissions[t].isAddPermission),Fe(e.pagePermissions[t].isEditPermission),Le(e.pagePermissions[t].isDeletePermission),e.pagePermissions[t].isReadPermission&&Ge())}else Ge()}),[]);const Ge=async()=>{await Je(),await Ye(e,s),me(!1)},Ee=new RegExp(/^[a-zA-Z_ ]+$/),Ue=()=>{me(!1)},Ze=async()=>{de(te),me(!0),Re(!1),we(""),be(!1),Ie(""),Ae(!1),ye("")},$e=()=>{ue(!1)},Je=async()=>{pe(!0);try{const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken"),s=await $.A.httpPost("/api/admin/religion/getReligion",{isActive:!0},e,t);s&&200==s.status?(pe(!1),re(s.recordList)):(pe(!1),re([]))}catch(e){pe(!1),Y.oR.error(e,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:Y.oR.POSITION.TOP_RIGHT})}},Ye=async(e,t)=>{try{if(pe(!0),ve){const s=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={startIndex:e,fetchRecord:t,name:ve||""};const n=await $.A.httpPost("/api/admin/community/getCommunity",a,s,i);ne(n.recordList),ie(n.totalRecords)}else{pe(!0);const s=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={startIndex:e,fetchRecord:t};const n=await $.A.httpPost("/api/admin/community/getCommunity",a,s,i);ne(n.recordList),ie(n.totalRecords),n&&200==n.status?me(!1):401==n.status?(Pe("/admin"),localStorage.clear()):(500==n.status||400==n.status||300==n.status||404==n.status)&&(me(!1),Y.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:Y.oR.POSITION.TOP_RIGHT})),pe(!1)}}catch(s){pe(!1),Y.oR.error(s,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:Y.oR.POSITION.TOP_RIGHT})}},Ke=async i=>{var a=(e=>{null===e||void 0===e||e.preventDefault();var t=!0;return le.name?Ee.test(le.name)?(Re(!1),we(""),t=!0):(Re(!0),we("Alphabet and space allowed"),t=!1):(Re(!0),we("Community is required"),t=!1),le.religionId||(be(!0),Ie("Religion is required"),t=!1),t})(i);if(a)try{if(le.id){const t=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={id:le.id,name:le.name,religionId:le.religionId};const n=await $.A.httpPost("/api/admin/community/insertUpdateCommunity",a,t,i);n&&200==n.status?(me(!1),Ye(e*s,s)):401==n.status?(Pe("/admin"),localStorage.clear()):500==n.status||300==n.status||404==n.status||400==n.status?(me(!1),Y.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:Y.oR.POSITION.TOP_RIGHT})):203==n.status&&(Ae(!0),ye("Community already exists!"))}else{const e=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken"),a=await $.A.httpPost("/api/admin/community/insertUpdateCommunity",le,e,i);a&&200==a.status?(Ye(0,s),t(0),me(!1)):401==a.status?(Pe("/admin"),localStorage.clear()):500==a.status||300==a.status||404==a.status||400==a.status?(me(!1),Y.oR.error(a.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:Y.oR.POSITION.TOP_RIGHT})):203==a.status&&(Ae(!0),ye("Community already exists!"))}}catch(n){Y.oR.error(n,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:Y.oR.POSITION.TOP_RIGHT})}},Qe=(0,d.A)();return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(De,{}),(0,V.jsx)(Y.N9,{style:{top:"10%",left:"80%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,V.jsx)(i.mg,{children:(0,V.jsx)("title",{children:"Community"})}),(0,V.jsx)(a.A,{children:(0,V.jsx)(c.A,{p:1,children:(0,V.jsxs)(m.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,V.jsx)(m.Ay,{item:!0,children:(0,V.jsx)(g.A,{alignItems:"left",justifyContent:"space-between",children:(0,V.jsxs)(u.A,{"aria-label":"breadcrumb",children:[(0,V.jsx)(E.N_,{to:"/admin/dashboard",style:{display:"flex",color:"black"},children:(0,V.jsx)(_.A,{})}),(0,V.jsx)(h.A,{variant:"subtitle2",color:"inherit",fontWeight:"bold",children:"Community"})]})})}),(0,V.jsx)(m.Ay,{item:!0,children:(0,V.jsxs)(m.Ay,{container:!0,spacing:1.5,children:[(0,V.jsx)(m.Ay,{item:!0,children:We?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(p.A,{className:"buttonLarge",sx:{mt:{xs:0,md:0,padding:"8.3px",top:"3px"},display:"flex",alignItems:"center"},variant:"contained",onClick:Ze,size:"small",children:[(0,V.jsx)(q.A,{fontSize:"small"})," Create Community"]}),(0,V.jsx)(p.A,{className:"button",sx:{mt:{xs:0,md:0,padding:"8.3px",top:"3px"},display:"flex",alignItems:"center"},variant:"contained",onClick:Ze,size:"small",children:(0,V.jsx)(q.A,{fontSize:"small"})})]}):(0,V.jsx)(V.Fragment,{})}),(0,V.jsx)(m.Ay,{item:!0,children:(0,V.jsx)(x.A,{sx:{mt:{xs:.3,md:.3,lg:.3,sm:.3}},children:(0,V.jsx)(A.A,{name:"searchString",value:ve,onChange:t=>(t=>{Se(t.target.value),ve=t.target.value,Ye(e,s)})(t),id:"outlined-basic",label:"Search",variant:"outlined",size:"small",InputProps:{startAdornment:(0,V.jsx)(j.A,{position:"start",children:(0,V.jsx)(J.A,{})})}})})})]})})]})})}),(0,V.jsx)(y.A,{maxWidth:"lg",children:(0,V.jsx)(m.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,V.jsx)(m.Ay,{item:!0,xs:12,children:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(v.A,{className:"communitycard",children:(0,V.jsx)("div",{children:he?(0,V.jsx)(U.A,{title:"Loading..."}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(S.A,{}),ae&&ae.length>0?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(f.A,{className:"communitytableContainer",children:(0,V.jsxs)(b.A,{stickyHeader:!0,children:[(0,V.jsx)(C.A,{children:(0,V.jsxs)(I.A,{children:[(0,V.jsx)(P.A,{children:(0,V.jsx)(h.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Sr. No"})}),(0,V.jsx)(P.A,{children:(0,V.jsx)(h.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Religion"})}),(0,V.jsx)(P.A,{children:(0,V.jsx)(h.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Community"})}),(0,V.jsx)(P.A,{align:"right",children:(0,V.jsx)(h.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Actions"})})]})}),(0,V.jsx)(k.A,{children:ae.map(((t,i)=>(0,V.jsxs)(I.A,{hover:!0,children:[(0,V.jsx)(P.A,{children:(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e*s+i+1})}),(0,V.jsx)(P.A,{children:(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,sx:{textTransform:"capitalize"},children:t.religionName})}),(0,V.jsx)(P.A,{children:(0,V.jsx)(h.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,sx:{textTransform:"capitalize"},children:t.name})}),(0,V.jsx)(P.A,{align:"right",children:Me?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(R.A,{title:0===t.isActive?"Inactive":"Active",arrow:!0,children:(0,V.jsx)(T.A,{checked:0!==t.isActive,onClick:e=>(0,K.A)((()=>(async(e,t)=>{de({id:e,status:t}),ue(!0)})(t.id,t.isActive)),qe)(),inputProps:{"aria-label":"controlled"}})}),(0,V.jsx)(R.A,{title:"Edit",arrow:!0,children:(0,V.jsx)(l.A,{sx:{"&:hover":{background:Qe.colors.error.lighter},color:Qe.palette.primary.main},color:"inherit",size:"small",onClick:e=>{return s=t.id,i=t.name,a=t.religionId,de({id:s,name:i,religionId:a}),me(!0),Re(!1),we(""),be(!1),Ie(""),Ae(!1),void ye("");var s,i,a},children:(0,V.jsx)(L.A,{fontSize:"small"})})})]}):(0,V.jsx)(V.Fragment,{})})]},t.id)))})]})}),(0,V.jsx)(c.A,{p:2,children:(0,V.jsx)(w.A,{component:"div",count:D,onPageChange:(e,i)=>{t(i),Ye(i*s,s)},onRowsPerPageChange:e=>{n(parseInt(e.target.value)),t(0),Ye(0,parseInt(e.target.value))},page:e,rowsPerPage:s,rowsPerPageOptions:[10,20,30,40]})})]}):(0,V.jsx)(O.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none"},className:"communitycard",children:(0,V.jsx)(h.A,{variant:"h5",paragraph:!0,children:"Data not Found"})})]})})}),(0,V.jsx)("div",{children:(0,V.jsxs)(o.A,{open:ge,onClose:$e,fullWidth:!0,maxWidth:"xs",children:[(0,V.jsx)(r.A,{sx:{m:0,p:2,fontSize:"20px",fontWeight:"bolder"},children:0===le.status?"Inactive":"Active"}),(0,V.jsx)(H.A,{children:(0,V.jsx)(N.A,{style:{fontSize:"1rem",letterSpacing:"0.00938em"},children:0===le.status?"Are you sure you want to Active?":"Are you sure you want to Inactive?"})}),(0,V.jsxs)(z.A,{children:[(0,V.jsx)(p.A,{onClick:$e,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,V.jsx)(p.A,{disabled:null===Oe||void 0===Oe?void 0:Oe.isDemoAdmin,onClick:async()=>{const t=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={id:le.id};await $.A.httpPost("/api/admin/community/activeInactiveCommunity",a,t,i);ue(!1),Ye(e*s,s)},variant:"outlined",style:{marginRight:"10px"},children:"Yes"})]})]})}),(0,V.jsxs)("div",{children:[(0,V.jsxs)(X,{open:ce,onClose:Ue,PaperProps:{sx:{height:"40%"}},fullWidth:!0,maxWidth:"xs",children:[(0,V.jsx)(ee,{id:"customized-dialog-title",onClose:Ue,children:le.id?"Edit Community":"Add Community"}),(0,V.jsxs)(H.A,{dividers:!0,children:[(0,V.jsxs)(x.A,{sx:{width:{lg:"100%"}},children:[(0,V.jsx)(W.A,{id:"demo-multiple-name-label",children:"Religion *"}),(0,V.jsx)(B.A,{labelId:"demo-multiple-name-label",id:"demo-multiple-name",multiple:!1,name:"religionId",value:le.religionId||[],onChange:e=>{(e=>{const{name:t,value:s}=e.target;de({...le,[t]:s})})(e),(e=>{const{name:t,value:s}=e.target;s?(be(!1),Ie("")):(be(!0),Ie("Religion is required"))})(e)},label:"Religion",MenuProps:se,required:!0,children:oe.map((e=>(0,V.jsx)(M.A,{value:e.id,children:e.name},e.id)))})]}),(0,V.jsx)(F.A,{style:{color:"red",height:"22px"},children:fe&&Ce}),(0,V.jsx)(A.A,{autoFocus:!0,margin:"dense",id:"name",label:"Community",type:"text",fullWidth:!0,variant:"outlined",name:"name",value:le.name,onChange:e=>{(e=>{const{name:t,value:s}=e.target;de({...le,[t]:s})})(e),(e=>{const{name:t,value:s}=e.target;s?Ee.test(e.target.value)?(Re(!1),we("")):(Re(!0),we("Alphabet and space allowed")):(Re(!0),we("Community is required"))})(e)},required:!0}),(0,V.jsx)(F.A,{style:{color:"red",height:"22px"},children:ke&&Te})]}),(0,V.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",p:"8px"},children:[(0,V.jsx)(F.A,{style:{color:"red",height:"22px",margin:"none",padding:"8px 0px"},children:xe&&je}),(0,V.jsxs)(h.A,{children:[(0,V.jsx)(p.A,{onClick:Ue,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,V.jsx)(p.A,{onClick:()=>(0,K.A)(Ke,qe)(),variant:"outlined",style:{marginRight:"10px"},children:"Save"})]})]})]}),(0,V.jsx)(De,{})]})]})})})})]})}},94786:(e,t,s)=>{s.d(t,{A:()=>a});s(65043);var i=s(70579);const a=e=>{const{title:t}=e;return(0,i.jsx)("div",{className:"spinner-container",children:(0,i.jsx)("div",{className:"loading-spinner"})})}},66360:(e,t,s)=>{var i=s(24994);t.A=void 0;var a=i(s(40039)),n=s(70579),o=(0,a.default)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.A=o},84882:(e,t,s)=>{s.d(t,{A:()=>y});var i=s(58168),a=s(98587),n=s(65043),o=s(69292),r=s(98610),l=s(21573),d=s(98206),c=s(34535),m=s(92532),g=s(72372);function u(e){return(0,g.Ay)("MuiTableHead",e)}(0,m.A)("MuiTableHead",["root"]);var h=s(70579);const p=["className","component"],x=(0,c.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),A={variant:"head"},j="thead",y=n.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiTableHead"}),{className:n,component:c=j}=s,m=(0,a.A)(s,p),g=(0,i.A)({},s,{component:c}),y=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},u,t)})(g);return(0,h.jsx)(l.A.Provider,{value:A,children:(0,h.jsx)(x,(0,i.A)({as:c,className:(0,o.A)(y.root,n),ref:t,role:c===j?null:"rowgroup",ownerState:g},m))})}))},71806:(e,t,s)=>{s.d(t,{A:()=>j});var i=s(98587),a=s(58168),n=s(65043),o=s(69292),r=s(98610),l=s(41009),d=s(98206),c=s(34535),m=s(92532),g=s(72372);function u(e){return(0,g.Ay)("MuiTable",e)}(0,m.A)("MuiTable",["root","stickyHeader"]);var h=s(70579);const p=["className","component","padding","size","stickyHeader"],x=(0,c.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:s}=e;return(0,a.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,a.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},s.stickyHeader&&{borderCollapse:"separate"})})),A="table",j=n.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiTable"}),{className:c,component:m=A,padding:g="normal",size:j="medium",stickyHeader:y=!1}=s,v=(0,i.A)(s,p),S=(0,a.A)({},s,{component:m,padding:g,size:j,stickyHeader:y}),f=(e=>{const{classes:t,stickyHeader:s}=e,i={root:["root",s&&"stickyHeader"]};return(0,r.A)(i,u,t)})(S),b=n.useMemo((()=>({padding:g,size:j,stickyHeader:y})),[g,j,y]);return(0,h.jsx)(l.A.Provider,{value:b,children:(0,h.jsx)(x,(0,a.A)({as:m,role:m===A?null:"table",ref:t,className:(0,o.A)(f.root,c),ownerState:S},v))})}))},8740:()=>{}}]);
//# sourceMappingURL=1221.5603e6e9.chunk.js.map